(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-63f70c9c"],{"0813":function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"reset-password"},[r("div",{staticClass:"main"},[e._m(0),e._v(" "),r("el-form",{ref:"formBase",staticStyle:{width:"80%"},attrs:{model:e.formData,rules:e.formRules,"label-width":"100px"}},[r("el-form-item",{attrs:{label:"手机号：",prop:"phone",rules:[{required:!0,message:"手机号为必填项",trigger:"blur"},{pattern:/^1[34578]\d{9}$/,message:"手机格式有误",trigger:"blur"}]}},[r("el-input",{attrs:{placeholder:"请填写11位有效的手机号码"},model:{value:e.formData.phone,callback:function(t){e.$set(e.formData,"phone",t)},expression:"formData.phone"}})],1),e._v(" "),r("el-form-item",{attrs:{prop:"verifyCode",label:"验证码：",rules:[{required:!0,message:"验证码为必填项",trigger:"blur"},{pattern:/^\d{6}$/,message:"格式错误，6位验证码",trigger:"blur"}]}},[r("el-row",[r("el-col",{attrs:{span:14}},[r("el-input",{attrs:{placeholder:"请输入验证码"},model:{value:e.formData.verifyCode,callback:function(t){e.$set(e.formData,"verifyCode",t)},expression:"formData.verifyCode"}})],1),e._v(" "),r("el-col",{attrs:{span:9,push:1}},[r("el-button",{attrs:{disabled:"获取验证码"!==e.verificationTxt},on:{click:e.handleGetVerification}},[e._v(e._s(e.verificationTxt)+"\n            ")])],1)],1)],1),e._v(" "),r("el-form-item",{attrs:{label:"密码：",prop:"password",rules:[{required:!0,message:"密码为必填项",trigger:"blur"},{pattern:/^[a-zA-Z0-9_\-!@#$%^&*? ]{6,12}$/,message:"密码格式有误",trigger:"blur"}]}},[r("el-input",{attrs:{type:"password",placeholder:"6-20位英文（区分大小写）、数字、字符的组合"},model:{value:e.formData.password,callback:function(t){e.$set(e.formData,"password",t)},expression:"formData.password"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"确认密码：",prop:"passwordConfirm"}},[r("el-input",{attrs:{type:"password",placeholder:"请再输入一遍上面的密码"},model:{value:e.formData.passwordConfirm,callback:function(t){e.$set(e.formData,"passwordConfirm",t)},expression:"formData.passwordConfirm"}})],1),e._v(" "),r("el-form-item",{attrs:{label:""}},[r("el-button",{staticStyle:{width:"80%"},attrs:{type:"primary"},on:{click:e.handleResetPassword}},[e._v("确定\n        ")])],1)],1)],1)])},i=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"reset_title"},[r("span",[e._v("重置密码")])])}],s=(r("96cf"),r("3b8d")),n={data:function(){var e=this,t=function(t,r,a){r!==e.formData.password?a(new Error("两次密码不一致")):a()};return{formData:{},formRules:{passwordConfirm:[{required:!0,message:"确认密码为必填项",trigger:"blur"},{validator:t,trigger:"blur"}]},timeVerification:60,timerVerification:null,verificationTxt:"获取验证码"}},mounted:function(){},methods:{handleResetPassword:function(){var e=this;this.$refs.formBase.validate((function(t){t&&e.fetchResetPassword()}))},fetchResetPassword:function(){var e=this;this.$api.RESET_PASSWORD({data:this.formData}).then((function(){e.resetPasswordSuccess()}))},resetPasswordSuccess:function(){var e=this;this.$message({type:"success",customClass:"el-message-custom",message:"密码重置成功，请重新登录"}),setTimeout((function(){e.$router.push({name:"login"})}),1500)},handleGetVerification:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.$refs.formBase.validateField("phone",(function(e){e||t.fetchVerification()}));case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),fetchVerification:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.verificationInterval(),this.$api.RESET_VERIFY_CODE({data:{phone:this.formData.phone},returnError:!0}).then((function(){t.$message({type:"success",message:"验证码发送成功",customClass:"el-message-custom"})})).catch((function(e){var r=e.msg;t.verificationClearInterval(),t.$message({type:"error",message:r,customClass:"el-message-custom"})}));case 2:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),verificationInterval:function(){var e=this;this.timeVerification--,this.verificationTxt="".concat(this.timeVerification,"后可重获"),this.timerVerification=setInterval((function(){e.timeVerification--,e.verificationTxt="".concat(e.timeVerification,"后可重获"),0===e.timeVerification&&e.verificationClearInterval()}),1e3)},verificationClearInterval:function(){clearInterval(this.timerVerification),this.verificationTxt="获取验证码",this.timeVerification=60}}},o=n,c=(r("c903"),r("2877")),l=Object(c["a"])(o,a,i,!1,null,"28fa78ec",null);t["default"]=l.exports},"6c65":function(e,t,r){},c903:function(e,t,r){"use strict";var a=r("6c65"),i=r.n(a);i.a}}]);