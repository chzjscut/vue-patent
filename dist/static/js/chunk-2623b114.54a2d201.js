(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2623b114"],{"47fa":function(e,t,a){},"59ac":function(e,t,a){"use strict";var s=a("ade0"),n=a.n(s);n.a},"720f":function(e,t,a){"use strict";var s=a("47fa"),n=a.n(s);n.a},ade0:function(e,t,a){},d0ab:function(e,t,a){"use strict";var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],staticStyle:{"margin-top":"20px"},style:{userSelect:e.userSelect?"select":"none"},attrs:{data:e.tableData,size:"small","max-height":681,border:"",stripe:!0,"highlight-current-row":"","header-row-style":{backgroundColor:"#f6f6f6"}},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55",fixed:""}}),e._v(" "),a("el-table-column",{attrs:{"show-tooltip-when-overflow":"",label:"专利信息","min-width":"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",{staticClass:"zl-info"},[a("span",{attrs:{"data-type":"发明专利"===t.row.zlType?"zl":"实用新型"===t.row.zlType?"xx":"外观设计"===t.row.zlType?"wg":""}},[e._v(e._s(t.row.zlType))]),e._v(" "),a("span",{staticClass:"number"},[e._v(e._s(t.row.zlNo))])]),e._v(" "),a("div",{staticClass:"zl-info"},[e._v(e._s(t.row.inventName))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"申请日",sortable:"",property:"applyDate","min-width":"150","show-tooltip-when-overflow":""}}),e._v(" "),a("el-table-column",{attrs:{label:"专利权人",property:"applyPersonName","min-width":"200","show-tooltip-when-overflow":""}}),e._v(" "),a("el-table-column",{attrs:{label:"代理机构",property:"dailijgmc","min-width":"200","show-tooltip-when-overflow":""}}),e._v(" "),a("el-table-column",{attrs:{label:"缴费截止日",sortable:"",property:"jiaofeijzr","min-width":"150","show-tooltip-when-overflow":""}}),e._v(" "),a("el-table-column",{attrs:{label:"年费状态","show-tooltip-when-overflow":""},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",{style:{color:"正常"===t.row.stateName?"#008400":"紧急"===t.row.stateName?"#FF6600":"滞纳"===t.row.stateName?"#FF6600":"#D2D2D2"}},[e._v("\n          "+e._s(t.row.stateName)+"\n        ")])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"年费/滞纳金","show-tooltip-when-overflow":"",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s((t.row.shijiyjje||"-")+"/"+(t.row.forfeit||"-")))]}}])}),e._v(" "),"consoleAnnualQuery"===e.$route.name||"consoleBatchQuery"===e.$route.name?a("el-table-column",{attrs:{label:"年费提醒"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#ff4949","active-value":1,"inactive-value":0},on:{change:function(a){return e.handleSwitchChange(t.row.zlNo,t.row.attention)}},model:{value:t.row.attention,callback:function(a){e.$set(t.row,"attention",a)},expression:"scope.row.attention"}})]}}],null,!1,40683162)}):e._e(),e._v(" "),"consoleAnnualMonitor"===e.$route.name?[a("el-table-column",{attrs:{label:"详情","show-tooltip-when-overflow":""},scopedSlots:e._u([{key:"default",fn:function(t){return[a("router-link",{staticStyle:{color:"#409EFF"},attrs:{target:"_blank",tag:"a",to:{name:"consoleFeeDetail",query:{zlNo:t.row.zlNo}}}},[e._v("费用信息\n          ")])]}}],null,!1,2934170580)})]:e._e()],2),e._v(" "),a("el-pagination",{staticClass:"page-center",attrs:{"page-size":e.size,"page-sizes":[10],"current-page":e.page,total:e.total,layout:"total, sizes, prev, pager, next, jumper"},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)},n=[],i={props:["listLoading","tableData","searchData","page","size","total"],data:function(){return{userSelect:!1}},mounted:function(){this.userSelect=this.canUserSelect()},methods:{handleSwitchChange:function(e,t){this.$emit("switchChange",{selectedIds:e,attentionState:t})},handleSelectionChange:function(e){this.$emit("multipleSelectChange",e)},handleSizeChange:function(e){this.$emit("pageSizeChange",e)},handleCurrentChange:function(e){this.$emit("currPageChange",e)},canUserSelect:function(){var e=this.$store.state.userInfo,t=JSON.parse(localStorage.getItem("userInfo")||e||"{}");return t.hasOwnProperty("token")&&t.hasOwnProperty("userLevel")&&"1"===t.userLevel}}},o=i,r=(a("720f"),a("2877")),l=Object(r["a"])(o,s,n,!1,null,"8a3b60c6",null);t["a"]=l.exports},daec:function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"annual-query"},[a("div",{staticClass:"search-global"},[a("i",{staticClass:"el-icon-info",staticStyle:{"margin-right":"10px"}}),e._v(" "),a("el-input",{attrs:{size:"large",placeholder:"试试你想找的一切东西？","prefix-icon":"el-icon-search"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.searchCondition(t)}},model:{value:e.searchConditionKey,callback:function(t){e.searchConditionKey=t},expression:"searchConditionKey"}}),e._v(" "),a("el-button",{staticStyle:{"margin-left":"10px"},attrs:{type:"primary",icon:"el-icon-search"},on:{click:e.searchCondition}},[e._v("搜索\n    ")])],1),e._v(" "),a("div",{staticClass:"table-filter"},[a("el-input",{attrs:{placeholder:"请输入专利号",size:"small"},model:{value:e.searchData.zlNo,callback:function(t){e.$set(e.searchData,"zlNo",t)},expression:"searchData.zlNo"}}),e._v(" "),a("el-input",{attrs:{placeholder:"请输入专利权人全称",size:"small"},model:{value:e.searchData.applyPersonName,callback:function(t){e.$set(e.searchData,"applyPersonName",t)},expression:"searchData.applyPersonName"}}),e._v(" "),a("el-input",{attrs:{placeholder:"请输入代理机构全称",size:"small"},model:{value:e.searchData.dailijgmc,callback:function(t){e.$set(e.searchData,"dailijgmc",t)},expression:"searchData.dailijgmc"}}),e._v(" "),a("div",{staticClass:"table-button-group",staticStyle:{display:"inline-block"}},[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:e.handleGetListClick}},[e._v("二次检索")]),e._v(" "),"consoleBatchQuery"===e.$route.name?[a("el-upload",{staticStyle:{display:"inline-block",margin:"0 10px"},attrs:{action:e.batchInsertAction,"show-file-list":!1,"on-err":e.handleUploadError,"on-success":e.handleUploadSuccess,"before-upload":e.handleBeforeUpload,accept:".xlsx, .xls",headers:e.uploadHeaders}},[a("el-button",{staticClass:"filter-box",attrs:{type:"primary",size:"small",disabled:e.batchImportDisabled}},[e._v(e._s(e.batchImportBtnTxt)+"\n          ")])],1),e._v(" "),a("a",{staticClass:"download-template",attrs:{href:e.excelTemplate,download:"专利批量导入Excel模板.xlsx"}},[e._v("专利批量导入Excel模板下载")])]:e._e(),e._v(" "),a("el-button",{attrs:{type:"primary",size:"small"},on:{click:e.handleAttentionAll}},[e._v("一键提醒")])],2)],1),e._v(" "),a("table-com",{attrs:{"list-loading":e.listLoading,page:e.page,size:e.size,total:e.total,"table-data":e.tableData},on:{switchChange:e.handleSwitchChange,pageSizeChange:e.handlePageSizeChange,currPageChange:e.handleCurrPageChange,multipleSelectChange:e.handleMultipleSelectChange}})],1)},n=[],i=(a("c5f6"),a("db72")),o=(a("96cf"),a("3b8d")),r=a("d0ab"),l=a("37b6"),c={components:{TableCom:r["a"]},data:function(){return{batchInsertAction:l["d"],batchImportBtnTxt:"专利批量导入",batchImportDisabled:!1,uploadHeaders:l["b"],excelTemplate:l["a"],searchData:{zlNo:"",applyPersonName:""},searchConditionKey:"",tableData:[],listLoading:!1,multipleSelection:[],importZlIds:[],page:1,size:10,total:0,globalKeyReg:/^[0-9|a-z]{2}.*$/}},mounted:function(){this.init()},methods:{init:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.initGlobalKey();case 2:this.searchConditionKey&&this.searchCondition();case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),initGlobalKey:function(){var e=this.$route.query;e&&e.kw&&(this.searchConditionKey=e.kw,this.globalKeyReg.test(e.kw)?this.searchData.zlNo=e.kw:this.searchData.applyPersonName=e.kw)},searchCondition:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.importZlIds=[],this.resetPagination(),this.searchData.zlNo="",this.searchData.applyPersonName="",this.listLoading=!0,this.$api.GLOBAL_SEARCH({data:{searchCondition:this.searchConditionKey},returnError:!0}).then((function(e){t.tableData=e.data,t.total=e.total||0,t.listLoading=!1,t.globalKeyReg.test(t.searchConditionKey)?t.searchData.zlNo=t.searchConditionKey:t.searchData.applyPersonName=t.searchConditionKey})).catch((function(e){var a=e.msg;t.listLoading=!1,t.$message({type:"error",message:a,customClass:"el-message-custom"})}));case 6:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),handleGetListClick:function(){this.importZlIds=[],this.resetPagination(),this.fetchList()},fetchList:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){var t,a=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.listLoading=!0,t=Object(i["a"])({},this.searchData,{pageNo:this.page,pageSize:this.size}),this.$api.BASE_LIST({data:t,returnError:!0}).then((function(e){a.tableData=e.data,a.total=e.total||0,a.listLoading=!1})).catch((function(e){var t=e.msg;a.listLoading=!1,a.$message({type:"error",message:t,customClass:"el-message-custom"})}));case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),fetchImportList:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){var t,a=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.listLoading=!0,t=this.importZlIds.slice((this.page-1)*this.size,this.page*this.size),this.$api.BASE_LIST({timeout:0,returnError:!0,data:{zlNos:t.join()}}).then((function(e){a.tableData=e.data,a.listLoading=!1})).catch((function(e){var t=e.msg;a.listLoading=!1,a.$message({type:"error",message:t,customClass:"el-message-custom"})}));case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),getSearchList:function(){this.importZlIds.length?this.fetchImportList():this.fetchList()},handleSwitchChange:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t){var a=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.listLoading=!0,this.$api.ATTENTION_PATENT({data:t,returnError:!0}).then((function(){a.getSearchList(),a.$message({type:"success",customClass:"el-message-custom",message:Number(t.attentionState)?"提醒成功":"取消提醒成功"})})).catch((function(e){var t=e.msg;a.getSearchList(),a.$message({type:"error",message:t,customClass:"el-message-custom"})}));case 2:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),handleAttentionAll:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){var t,a,s=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t=this.multipleSelection.length,t?(this.listLoading=!0,a=this.multipleSelection.map((function(e){return e.zlNo})).join(),this.$api.ATTENTION_PATENT({data:{selectedIds:a,attentionState:1},returnError:!0}).then((function(){s.getSearchList(),s.$message({type:"success",customClass:"el-message-custom",message:"一键提醒成功"})})).catch((function(e){var t=e.msg;s.getSearchList(),s.$message({type:"error",message:t,customClass:"el-message-custom"})}))):this.$message({type:"warning",message:"请先勾选提醒项",customClass:"el-message-custom"});case 2:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),handleBeforeUpload:function(){this.batchImportDisabled=!0,this.batchImportBtnTxt="批量导入中..."},handleUploadSuccess:function(e){this.batchImportDisabled=!1,this.batchImportBtnTxt="专利批量导入",this.$message({message:e.success?"导入成功":"导入失败",type:e.success?"success":"error",customClass:"el-message-custom"}),this.total=e.data.length||0,this.importZlIds=e.data,this.fetchImportList()},handleUploadError:function(e){this.batchImportDisabled=!1,this.batchImportBtnTxt="专利批量导入",this.$message({type:"error",message:e,customClass:"el-message-custom"})},resetPagination:function(){this.page=1,this.size=10},handleMultipleSelectChange:function(e){this.multipleSelection=e},handlePageSizeChange:function(e){this.size=e,this.getSearchList()},handleCurrPageChange:function(e){this.page=e,this.getSearchList()}}},h=c,u=(a("59ac"),a("2877")),p=Object(u["a"])(h,s,n,!1,null,"7cba294a",null);t["default"]=p.exports}}]);